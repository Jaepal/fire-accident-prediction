# 피처 엔지니어링 기록

| fe_num | RF_eval | lgbm_eval     | 처리                                      |
| ------ | ------- | ------------- | ----------------------------------------- |
| 16     | 0.49451 |               |                                           |
| 17     | 0.47906 |               | 16 + 지역 데이터 split                    |
| 18     | 0.50146 |               | 16 + 파생변수 추가(결측값 수, 이진변수합) |
| 19     | 0.49972 |               | 18 + 로그합 추가                          |
| 20     | 0.50099 | 0.51758       | 18 + gas_ele 0 개수 합 추가               |
| 21     | 0.49965 |               | 18 + lw_float_count 추가                  |
| 22     | 0.50027 |               | 18 + lw_float_yn 추가                     |
| 23     | 0.5046  | 0.51758       | 18 + 이진변수합 제거                      |
| 24     | 0.49673 | (위에)0.50102 | 18 + 결측값 수 제거                       |
| 25     | 0.49963 |               | 23 + 층수합                               |
| 26     | 0.50128 |               | 23 + gas_ele 첫 행 유무 추가              |
| 27     |         | 0.51808       | 23 + bldng_us 유무 열 추가                |

# 타겟 인코딩 기록

| fe_num | te_num | eval    | features                                                     | 처리                              |
| ------ | ------ | ------- | ------------------------------------------------------------ | --------------------------------- |
| 16     | 0      | 0.51889 |                                                              |                                   |
|        | 1      | 0.51978 | jmk                                                          | 0 + jmk 추가                      |
|        | 2      | 0.51707 | jmk, bldng                                                   | 1 + bldng_us 추가                 |
|        | 3      | 0.51978 | jmk, us_yn                                                   | 1 + us_yn추가                     |
|        | 4      | 0.5147  | jmk, rd_sd_nm                                                | 1 + rd_sd_nm                      |
|        | 5      | 0.52122 | jmk, bldng_us_clssfctn                                       | 1 + bldng_us_clssfctn             |
|        | 6      | 0.52122 | jmk, bldng_us_clssfctn, mlt_us_yn                            | 5 + mlt_us_yn                     |
|        | 7      | 0.51112 | jmk, bldng_us_clssfctn, bldng_archtctr                       | 5 + bldng_archtctr                |
|        | 8      | 0.52169 | jmk, bldng_us_clssfctn, trgt_crtr                            | 5 + trgt_crtr                     |
|        | 9      | 0.52169 | jmk, bldng_us_clssfctn, trgt_crtr, blk_dngrs_thng_mnfctr_yn  | 8 + blk_dngrs_thng_mnfctr_yn      |
|        | 10     | 0.51605 | jmk, bldng_us_clssfctn, trgt_crtr, lnd_us_sttn_nm            | 8 + lnd_us_sttn_nm                |
|        | 11     | 0.52169 | jmk, bldng_us_clssfctn, trgt_crtr, dngrs_thng_yn             | 8 + dngrs_thng_yn                 |
|        | 12     | 0.51541 | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm                | 8 + rgnl_ar_nm                    |
|        | 13     | 0.52212 | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm2               | 8 + rgnl_ar_nm2                   |
|        | 14     | 0.52212 | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm2, cltrl_hrtg_yn | 13 + cltrl_hrtg_yn                |
|        | 15     | 0.52212 | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm2, slf_fr_brgd_yn | 13 + slf_fr_brgd_yn               |
|        | 16     | 0.52212 | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm, fr_fghtng_fclt_spcl_css_5_yn | 13 + fr_fghtng_fclt_spcl_css_5_yn |
|        | 17     |         | jmk, bldng_us_clssfctn, trgt_crtr, rgnl_ar_nm, fr_fghtng_fclt_spcl_css_6_yn | 13 + fr_fghtng_fclt_spcl_css_6_yn |



# 피처 엔지니어링 기록 2

| fe_num | lgbm_eval | 정확도  | 평균 thd | 처리기록                      |      |      |
| ------ | --------- | ------- | -------- | ----------------------------- | ---- | ---- |
| 28     | 0.51425   |         |          |                               |      |      |
| 29     | 0.48046   | 0.82586 | 0.55     | 확실 features                 |      |      |
| 30     | 0.47832   | 0.83224 | 0.59     | 확실 features + bldng_cnt     |      |      |
| 31     | 0.48918   | 0.82554 | 0.53     | 30 + bldng_ar                 |      |      |
| 32     | 0.49065   | 0.82464 | 0.54     | 30 + bldng_ar_log             |      |      |
| 33     | 0.48328   | 0.83108 | 0.57     | 30 + lnd_ar                   |      |      |
| 34     | 0.48258   | 0.83044 | 0.59     | 30 + lnd_ar                   |      |      |
| 35     | 0.48292   | 0.83227 | 0.58     | 30 + ttl_grnd_flr             |      |      |
| 36     | 0.481     | 0.83065 | 0.58     | 35 + ttl_dwn_flr              |      |      |
| 37     | 0.48373   | 0.83279 | 0.57     | 35 + tmprtr                   |      |      |
| 38     | 0.48487   | 0.83311 | 0.58     | 37 + prcpttn                  |      |      |
| 39     | 0.50446   | 0.82566 | 0.52     | 38 + wnd_spd                  |      |      |
| 40     | 0.49167   | 0.82502 | 0.56     | 38 + wnd_drctn                |      |      |
| 41     | 0.50361   | 0.82612 | 0.56     | 38 + hmdt                     |      |      |
| 42     | 0.47149   | 0.8323  | 0.58     | 38 + hm_cnt                   |      |      |
| 43     | 0.48729   | 0.83143 | 0.58     | 38 + fr_sttn_dstnc            |      |      |
| 44     | 0.48861   | 0.83082 | 0.58     | 38 + fr_sttn_dstnc_log        |      |      |
| 45     | 0.48397   | 0.83329 | 0.58     | 38 + bldng_ar_prc             |      |      |
| 46     | 0.48544   | 0.83413 | 0.58     | 38 + bldng_ar_prc_log         |      |      |
| 47     | 0.48931   | 0.80464 | 0.5      | 46 + fr_wthr_fclt_dstnc       |      |      |
| 48     | 0.48925   | 0.80464 | 0.53     | 46 + fr_wthr_fclt_dstnc_log   |      |      |
| 49     | 0.39697   | 0.8196  | 0.65     | 46 + fr_mn_cnt                |      |      |
| 50     | 0.4871    | 0.83398 | 0.58     | 46 + cctv_dstnc               |      |      |
| 51     | 0.48683   | 0.83418 | 0.59     | 46 + cctv_dstnc_log           |      |      |
| 52     | 0.48997   | 0.83172 | 0.57     | 51 + fr_wthr_fclt_in_100m     |      |      |
| 53     | 0.48572   | 0.83288 | 0.58     | 51 + tbc_rtl_str_dstnc        |      |      |
| 54     | 0.48463   | 0.83285 | 0.58     | 51 + tbc_rtl_str_dstnc_log    |      |      |
| 55     | 0.48354   | 0.8145  | 0.53     | 51 + sft_emrgnc_bll_dstnc     |      |      |
| 56     | 0.48639   | 0.81505 | 0.52     | 51 + sft_emrgnc_bll_dstnc_log |      |      |
| 57     | 0.49001   | 0.80049 | 0.5      | 51 + ahsm_dstnc               |      |      |
| 58     | 0.45222   | 0.84175 | 0.61     | 51 + no_tbc_zn_dstnc          |      |      |
| 59     | 0.45436   | 0.84236 | 0.62     | 51 + no_tbc_zn_dstnc_log      |      |      |
| 60     | 0.48607   | 0.83491 | 0.57     | 51 + bldng_cnt_in_50m         |      |      |
| 61     | 0.48624   | 0.83404 | 0.59     | 51 + bldng_cnt_in_50m_log     |      |      |
| 62     | 0.48632   | 0.83482 | 0.58     | 60 + dngrs_thng_yn            |      |      |
| 63     | 0.48612   | 0.83433 | 0.58     | 60 + ttl_ar_log               |      |      |
| 64     | 0.48433   | 0.83038 | 0.57     | 60 + from_athrztn_to_fr       |      |      |
| 65     | 0.48428   | 0.8292  | 0.6      | 60 + dt_of_arthrztn           |      |      |
| 66     | 0.48774   | 0.83485 | 0.58     | 60 + ttl_dwn_flr_isnan        |      |      |
| 67     | 0.48626   | 0.83505 | 0.57     | 60 + 연도별 gas sum           |      |      |
| 68     | 0.4977    | 0.82276 | 0.55     | 67 + 전부다                   |      |      |
|        |           |         |          |                               |      |      |
|        |           |         |          |                               |      |      |
|        |           |         |          |                               |      |      |
|        |           |         |          |                               |      |      |



# 피쳐엔지니어링 기록 3

| fe_num | lgbm_eval | lgbm_opt | 단일 best    | 첫 fold f1 | 정확도  | 평균 thd | 사용행            | 처리                                                 |
| ------ | --------- | -------- | ------------ | ---------- | ------- | -------- | ----------------- | ---------------------------------------------------- |
| 69     | 0.50345   |          |              | 0.505      | 0.82522 | 0.57     | 주석 - dwnflr     |                                                      |
| 70     | 0.50138   |          |              | 0.504      | 0.82723 | 0.58     | 69 - wnd_drctn    |                                                      |
| 71     | 0.50379   |          |              | 0.506      | 0.82862 | 0.59     | 69 - year         |                                                      |
| 72     | 0.50407   |          |              | 0.507      | 0.82723 | 0.58     | 71 - dt_of_fr_day |                                                      |
| 23     | 0.51758   | 0.5279   | 0.530(fold1) | 0.526      | 0.82889 | 0.55     |                   |                                                      |
| 73     | 0.51215   |          | 0.525(fold4) | 0.519      | 0.81037 | 0.56     | 23 + same_row     | same_row 추가 - 2 이상 안합침                        |
| 74     | 0.51215   |          | 0.525(fold4) | 0.515      | 0.81679 | 0.56     | 23 + same_row_yn  | same_row 추가 - 2 이상 합침                          |
| 75     | 0.51868   | 0.52741  | 0.529(fold3) | 0.525      | 0.82667 | 0.54     | 23 + same_row_yn  | same_row 추가 - 3 이상 합침                          |
| 76     | 0.51868   | 0.52741  | 0.529(fold3) | 0.525      | 0.82667 | 0.54     | 23 + same_row_yn  | same_row 추가 - 2 기준 3분할                         |
| 77     | 0.51839   | 0.52114  | 0.528(fold3) | 0.526      | 0.82415 | 0.56     | 23 + same_row_yn  | same_row 추가 - 2 이상 합침<br />중복행에서 N값 제거 |
| 78     | 0.51839   |          | 0.528(fold3) | 0.526      | 0.82415 | 0.56     | 23 + same_row_yn  | same_row 추가 - 3 이상 합침<br/>중복행에서 N값 제거  |
| 79     |           |          |              |            |         |          | 23 + uniqueN      |                                                      |
| 80     |           |          |              |            |         |          |                   |                                                      |
| 81     |           |          |              |            |         |          |                   |                                                      |
| 82     |           | 0.52966  |              |            |         |          |                   |                                                      |
| 83     |           | 0.52966  |              |            |         |          |                   |                                                      |
| 84     |           | 0.529457 |              |            |         |          | gasele pca 추가   |                                                      |
| 85     |           | 0.530149 |              |            |         |          | 84+gaselesum 제거 |                                                      |
| 86     |           | 0.528044 |              |            |         |          | gas ele sum 분리  |                                                      |
| 87     |           | 0.528393 |              |            |         |          | ele sum 제거      |                                                      |
| 88     |           |          |              |            |         |          |                   |                                                      |
| 89     |           | 0.528443 |              |            |         |          | gas, ele 3단분리  |                                                      |
|        |           |          |              |            |         |          |                   |                                                      |
|        |           |          |              |            |         |          |                   |                                                      |



# 제출 기록

| 제출번호 | 리더보드 | 0.5 eval | 신경망 | fe_num | 특이사항                                        |      |      |      |
| -------- | -------- | -------- | ------ | ------ | ----------------------------------------------- | ---- | ---- | ---- |
| 1        |          |          |        |        | 잘못냄                                          |      |      |      |
| 2        | 0.51706  |          |        |        |                                                 |      |      |      |
| 3        |          |          |        |        |                                                 |      |      |      |
| 4        | 0.52159  |          |        |        | best단일모델                                    |      |      |      |
| 5        | 0.52144  |          |        |        | target_encoding 적용                            |      |      |      |
| 6        | 0.51163  | ?        |        |        | target_encoding 적용 + trainvalid합침 + thd=0.7 |      |      |      |
| 7        | 0.47186  |          |        |        | target_encoding 적용 + trainvalid합침 + thd=0.6 |      |      |      |
| 8        | 0.44288  |          |        |        | valid만으로 훈련, thd=0.47                      |      |      |      |
| 9        |          | 0.48774  |        | 67     | 78 / 21, thd=0.57                               |      |      |      |
| 10       | 오류     |          |        |        |                                                 |      |      |      |
| 11       | 오류     |          |        |        |                                                 |      |      |      |
| 12       | 0.51373  |          | 0.527  | 23     | 단일 신경망                                     |      |      |      |
| 13       | 0.52115  | 0.51798  |        | 23     | 5-fold lgbm, thd=0.55                           |      |      |      |
| 14       | 0.50709  | 13       | 12     |        | nn + lgbm, thd=0.55                             |      |      |      |
| 15       | 0.52667  |          |        |        | 14 + thd0.58                                    |      |      |      |
| 16       | 0.52903  |          |        |        | 14 + thd0.6                                     |      |      |      |
| 17       | 0.51956  |          |        |        | 14 + thd0.62                                    |      |      |      |
| 18       | 0.53055  |          |        |        | 14 + thd0.605                                   |      |      |      |
| 19       | 0.51706  |          |        |        | 23 lgbm 5 fold, thd=0.52                        |      |      |      |
| 20       | 0.52115  |          |        |        | 23 lgbm 5 fold, thd=0.55                        |      |      |      |
| 21       | 0.51299  |          |        |        | 23 lgbm 5 fold, thd=0.57                        |      |      |      |
| 22       | 0.52013  |          |        | 75     | 75 lgbm 5 fold, thd-0.55                        |      |      |      |
| 23       | 0.52217  |          |        |        | 75 lgbm 5 fold, thd-0.56                        |      |      |      |
| 24       | 0.51208  |          |        |        | 75 lgbm 5 fold, thd-0.57                        |      |      |      |
| 25       | 0.51623  |          |        |        | 75 lgbm 5 fold, thd-0.565                       |      |      |      |
| 26       | 0.52246  |          |        |        | 23 lgbm 5 fold, thd-0.56                        |      |      |      |
| 27       | 0.51901  |          |        |        | 23 lgbm 5 fold, thd-0.565                       |      |      |      |
| 28       | 0.51765  |          |        |        | 23 lgbm 5 fold, thd-0.555                       |      |      |      |
| 29       | 0.45439  |          |        |        | only valid                                      |      |      |      |
| 30       | 0.51765  |          |        |        | 75 * 0.8 + onlyvalid*0.2 thd                    |      |      |      |
| 31       | 0.52596  |          |        |        | 23 train + valid thd=0.71                       |      |      |      |
| 32       | 0.52131  |          |        |        | 23 train + valid thd=0.715                      |      |      |      |
| 33       | 0.52277  |          |        |        | 23 train + valid thd=0.705                      |      |      |      |
| 34       | 0.50921  |          |        |        | 75 train + valid thd=0.71                       |      |      |      |
| 35       | 0.5173   |          |        |        | 75 train + valid thd=0.715                      |      |      |      |
| 36       | 0.51391  |          |        |        | 75 train + valid thd=0.72                       |      |      |      |
| 37       | 0.51211  | 오류     |        | 23     | nn + lgbm(train+valid), thd=0.65                |      |      |      |
| 38       | 0.51645  | 오류     |        | 23     | nn + lgbm(train+valid), thd=0.67                |      |      |      |
| 39       | 0.52492  | 오류     |        | 23     | nn + lgbm(train+valid)*3, thd=0.7               |      |      |      |
| 40       | 0.51458  | 오류     |        | 23     | nn*3 + lgbm(train+valid), thd=0.62              |      |      |      |
| 41       | 0.52396  | 오류     |        | 23     | nn*3 + lgbm(train+valid), thd=0.65              |      |      |      |
| 42       | 0.5094   |          |        | 23     | nn + lgbm(train+valid), thd=0.65                |      |      |      |
| 43       | 0.51466  |          |        |        | nn + lgbm(train+valid), thd=0.67                |      |      |      |
| 44       | 0.51993  |          |        |        | nn*3 + lgbm(train+valid), thd=0.61              |      |      |      |
| 45       | 0.5141   |          |        |        | nn*3 + lgbm(train+valid), thd=0.63              |      |      |      |
| 46       | 0.49026  |          |        |        | nn(train+valid), thd=0.23                       |      |      |      |
| 47       | 0.48553  |          |        |        | nn(train+valid), thd=0.225                      |      |      |      |
| 48       | 0.49013  |          |        |        | nn(train+valid), thd=0.235                      |      |      |      |
| 49       | 0.5233   |          |        | 23, f1 | thd=0.53                                        |      |      |      |
| 50       | 0.5287   |          |        | 23, f1 | thd=0.55                                        |      |      |      |
| 51       | 0.5247   |          |        | 23, f1 | thd=0.56                                        |      |      |      |
| 52       |          |          |        |        | only val, thd=0.46                              |      |      |      |
| 53       |          |          |        |        |                                                 |      |      |      |
| 54       | 0.50545  |          |        |        | train+valid nn+lgbm thd=0.7                     |      |      |      |
| 55       | 0.51237  |          |        |        | train+valid nn+lgbm thd=0.71                    |      |      |      |
| 56       | 0.52083  |          |        |        | train+valid nn+lgbm thd=0.72                    |      |      |      |
| 57       | 0.52     |          |        |        | train+valid nn+lgbm thd=0.73                    |      |      |      |
| 58       | 0.50967  |          |        |        | train+valid lgbm + train nn thd=0.62            |      |      |      |
| 59       | 0.5094   |          |        |        | train+valid lgbm + train nn thd=0.63            |      |      |      |
| 60       | 0.50777  |          |        |        | lgbm nn 0.55                                    |      |      |      |
| 61       | 0.52     |          |        |        | lgbm nn 0.56                                    |      |      |      |
| 62       | 0.51429  |          |        |        |                                                 |      |      |      |

